---
description: 后端（JAVA）开发的点滴记录与经验分享
---

# 性能优化经验

##“性能优化”的认识
以开发的视角来看：  
**性能**的直观理解其实就是计算机去执行一个任务，从发起到完成的耗时情况的表现。  
**性能优化**的话，其实无非就是提高应用性能、降低资源消耗、解决吞吐瓶颈、提升用户体验等。  
我们以分布式部署的java应用来看，其实我们按照上面的性能定义，其实我们的任务大致包含以下步骤：

1. client端发起请求
2. 服务发现
3. 服务调度
4. server端接受请求
5. server调起各种资源处理请求
6. server执行完成，返回结果

这个过程中，我们从软硬件资源相关来看，经常用得到的大概有：

* 硬件资源相关
  * 计算机资源：物理机、虚拟机、容器等
  * 路由：F5、LVS等
  * CDN
  * ······
* 软件资源相关
  * 服务治理相关：Dubbo、Spring Cloud 等
  * 缓存相关：Redis、MemCache、Tair
  * 数据库：MySql、Oracle还其他比较流行的Posgrasql等
  * 消息队列：RabbitMQ、ZeroMq、Kafka等
  * 搜索相关：ES
  * JAVA应用本身
  * ······

如果是大点的公司，中间件组可能还有日志相关的组件（比如FLK）、监控组件（各种埋点的上报）等等。

所以我们的性能优化点，其实是从两个方向出发，第一个是找出任务执行链路中的的瓶颈。其实优化的时候有一个很重要的原则就是**不要试图去优化一些本来就消耗很低的点**。某个请求响应时间100ms，其中1ms花在某复杂对象的序列化上面，有80ms花在网络传输上，还有其他10多ms在执行代码逻辑。那么我们到底是从1ms出发，还是从80ms出发时显而易见的。第二个才是对症下药，切莫病急乱投医，随便乱猜就开始优化。



